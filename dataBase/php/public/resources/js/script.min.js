console.time("main");const title="Сеть мебельных магазинов",paths={stores:"/stores",producers:"/producers",products:{main:"/products",search:"/search"}};$(document).ready(function(){!function(){var e=function(){return{init:function(){s.init(),o.init(),n.init(),i.init(),r.init()}}}(),t=function(){var e=0,n=0;return{parseModuleNames:function(e){var t=[];try{t=e.split(",")}catch(e){console.error(e)}return t},queryString:function(){var t=window.location.search.substr(1).split("&");if(n=t.length,!n)return{};var i={};for(e=0;e<n;e++){var r=t[e].split("=",2);2==r.length&&(i[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}return i},getPath:function(e){var t=e.length,n=0,i="",r=paths;if(!t)return!1;for(n=0;n<t;n++)"undefined"!=typeof r&&(r=r[e[n]],"undefined"!=typeof r&&(i+="undefined"!=typeof r.main&&r.main.length?r.main:r));return i},secureGetPath:function(e){var n=!1;try{var i=e.split("=")[1].split(",");n=t.getPath(i)}catch(e){console.log(e),n=!1}return n},loadSelects:function(e){e.find('select[data-loadSelect="true"]').each(function(e,n){var i=$(n).attr("data-url");if(i.indexOf("getPath")>-1){var r=t.secureGetPath(i);r&&r.length&&($(n).attr("data-url",r),i=r)}return!i.length||($(n).attr("disabled",!0).prepend('<option value="" selected="selected">Загрузка списка...</option>'),void $.ajax({url:i,type:"GET",dataType:"json",success:function(e){if(e.success&&e.items){var i=t.selectFromArray(e.items);$(n).append(i),$(n).attr("disabled",!1).find("option").first().remove()}else $(n).attr("disabled",!0).html('<option value="" selected="selected">Ошибка! Не удалось загрузить список.</option>')},error:function(e){$(n).attr("disabled",!0).html('<option value="" selected="selected">Ошибка! Не удалось загрузить список.</option>'),console.error(e)}}))})},selectFromArray:function(t){if("undefined"==typeof t)return!1;var n="";for(e in t)n+='<option value="'+e+'">'+t[e]+"</option>";return n}}}(),n=function(){var e=void 0,t=void 0,i=void 0,r=void 0,a=void 0;return{init:function(){return e=$("#alerts"),!!e.length&&(t=e.find(".alert-success"),i=e.find(".alert-error"),r=e.find(".alert-info"),a=$(".load-alert"),void(a.length&&n.loadAlerts()))},success:function(e){return"undefined"!=typeof t&&(t.find(".text").html(e),t[0].outerHTML)},error:function(e){return"undefined"!=typeof i&&(i.find(".text").html(e),i[0].outerHTML)},info:function(e){return"undefined"!=typeof r&&(r.find(".text").html(e),r[0].outerHTML)},loadAlerts:function(){a.each(function(e,t){if(!$(t).hasClass("laoded")){var i=$(t).html(),r=$(t).attr("data-type");if(i&&i.length&&r&&r.length)try{$(t).html(n[r](i)).addClass("loaded")}catch(e){console.error(e)}}})}}}(),i=function(){var e=void 0,a=void 0,o=void 0,s=void 0,l=void 0,d=void 0,u=void 0,c=void 0;return{init:function(){if(e=$("#send_form"),!e.length)return!1;i.loadUrl(),a=e.find(".response"),o=e.find(".progress_bar"),s=e.find(".form-enable"),l=$("#form_magazine"),d=$("#form_counts"),u=e.find(".only_double"),c=e.find(".only_integer"),"undefined"!=typeof o&&o.progressbar({max:100,value:0}),t.loadSelects(e),i.events();var n=e.attr("data-init");n.length&&(n=t.secureGetPath(n),n&&i.send(e,n)),e.hasClass("disable")&&i.disable()},disable:function(){e.find("input, select").each(function(e,t){$(t).attr("disabled",!0)}),e.find("button:not(.form-enable)").attr("disabled",!0)},enable:function(){e.find("input, select").each(function(e,t){$(t).attr("disabled",!1)}),e.find("button").attr("disabled",!1),s.remove()},events:function(){e.length&&e.unbind("submit.sendData").bind("submit.sendData",function(e){return e.preventDefault(),i.send(this),!1}),u.length&&u.unbind("input.onlyDouble").bind("input.onlyDouble",function(e){return e.preventDefault(),this.value=this.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"),!1}),c.length&&c.unbind("input.onlyInteger").bind("input.onlyInteger",function(e){return e.preventDefault(),/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,"")),!1}),s.length&&s.unbind("click.enableForm").bind("click.enableForm",function(e){return e.preventDefault(),i.enable(),!1}),l.length&&($("#form_magazine_add").unbind("click.add").bind("click.add",function(e){e.preventDefault();var t=l.find("select").first().clone();return t.attr("value",""),$(this).before(t[0].outerHTML),t=d.find("input").first().clone(),t.attr("value",""),d.append(t[0].outerHTML),!1}),$("#form_magazine_remove").unbind("click.remove").bind("click.remove",function(e){e.preventDefault();var t=l.find("select"),n=t.last().index();return n?(t.eq(n).remove(),t=d.find("input"),t.eq(n).remove()):(l.find("select").eq(0).val(""),d.find("input").eq(0).val("")),!1}))},send:function(i,s){var l=s||$(i).attr("data-url"),d=$(i).attr("data-method"),u=($(i).attr("data-view"),$(i).attr("data-modules")),c=(new FormData(i),function(){return $.ajaxSettings.xhr()});o.length&&(c=function(){var e=$.ajaxSettings.xhr();return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.ceil(e.loaded/e.total*100);o.progressbar("value",t)}},!1),e}),$.ajax({url:l,method:d,data:e.serialize(),processData:!1,dataType:"json",cache:!1,xhr:c,beforeSend:function(){a.html("")},success:function(e){e.success&&e.template&&a.html($.parseHTML(e.template));var n=[];u.length&&(n=t.parseModuleNames(u)),n.indexOf("order")>-1&&r.init()},error:function(e){e.status&&e.statusText&&e.statusText.length&&a.html(n.error("Ответ сервера: "+e.statusText+" [<b>"+e.status+"</b>]"))}})},loadUrl:function(){var i=t.secureGetPath(e.attr("data-url"));i&&i.length?e.attr("data-url",i):e.prepend(n.error("Не удалось получить ссылку формы."))}}}(),r=function(){var e=[],t=void 0,n=void 0,i=0,o=0;return{init:function(){t=$("#order_items_count"),n=$(".order_btn"),r.set(),r.events()},events:function(){n.length&&n.each(function(t,n){var i=parseInt($(n).attr("data-id"));!isNaN(i)&&e.length&&e.indexOf(i)>-1?r.binder.from(n):r.binder.to(n)})},binder:{to:function(e){$(e).text("В заказ").removeClass("from_order").addClass("to_order").unbind("click.addToOrder").bind("click.addToOrder",function(t){t.preventDefault();var n=parseInt($(this).attr("data-id"));return n>0&&r.add(n),r.binder.from(e),!1})},from:function(e){$(e).text("Отмена").removeClass("to_order").addClass("from_order").unbind("click.addToOrder").bind("click.addToOrder",function(t){t.preventDefault();var n=parseInt($(e).attr("data-id"));return n>0&&r.remove(n),r.binder.to(e),!1})}},set:function(t){if(t)e=t,r.save();else{var n=a.get("order");n&&n.length?e=n:(e=[],r.save())}},get:function(){return e},add:function(t){if(isNaN(t)||"number"!=typeof t)for(o=t.length,i=0;i<o;i++)isNaN(t)||e.indexOf(t)!=-1||e.push(parseInt(t[i]));else e.indexOf(t)==-1&&e.push(parseInt(t));r.save()},remove:function(t){var n=[];for(o=e.length,i=0;i<o;i++)e[i]!=t&&n.push(e[i]);r.set(n)},save:function(){a.set("order",e),o=e.length,t.text(o)},clear:function(){e=[],r.save()}}}(),a=function(){return{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return JSON.parse(localStorage.getItem(e))}}}(),o=function(){var e=void 0,t=void 0,n=void 0,i=[{name:'Заказ<span id="order_items_count" class="badge">0</span>',link:"/order"},{name:"Покупки",link:[{name:"Список",link:"/orders.list.html"},{name:"Создать",link:"/orders.create.html"},{name:"Редактировать",link:"/orders.edit.html"},{name:"Отчеты",link:"/orders.reviews.html"}]},{name:"Товары",link:[{name:"Список",link:"/products.list.html"},{name:"Создать",link:"/products.create.html"},{name:"Редактировать",link:"/products.edit.html"}]},{name:"Магазины",link:[{name:"Список",link:"/stores.list.html"},{name:"Создать",link:"/stores.create.html"},{name:"Редактировать",link:"/stores.edit.html"},{name:"Отчеты",link:"/stores.reviews.html"}]},{name:"Производители",link:[{name:"Список",link:"/stores.list.html"},{name:"Создать",link:"/producers/create"},{name:"Редактировать",link:"/stores.edit.html"},{name:"Отчеты",link:"/stores.reviews.html"}]}],r=[],a=0,s=0,l=0,d="",u=window.innerHeight;return{init:function(){if(l=i.length,e=$("#menu"),!l||!e.length)return!1;for(t=$("#submenu"),a=0;a<l;a++){var u=i[a],c=typeof u.link;if("object"===c){var f=u.link,h=f.length;for(r[a]=[],s=0;s<h;s++)r[a].push({name:f[s].name,link:f[s].link});d+='<a href="#" class="menu-item parent">'+u.name+"</a>"}else"string"===c&&""!=u.link&&(d+='<a href="'+u.link+'" class="menu-item">'+u.name+"</a>")}d.length&&e.html($.parseHTML(d)),n=$(".menu-item"),o.events()},events:function(){e.resizable({minWidth:120,maxWidth:300,handles:"e",resize:function(e,n){n.size.height=u,t.css("left",n.size.width+"px")}}),e.unbind("click.toggleMenu").bind("click.toggleMenu",function(t){return t.preventDefault(),t.offsetX>e[0].offsetWidth&&o.toggle(),!1}),n.unbind("click.selectItem").bind("click.selectItem",function(e){e.preventDefault();var t=$(this).attr("href");if("#"==t){var n=$(".menu-item").index(this);o.submenu.init(n),o.submenu.show()}else window.location=t;return!1})},submenu:{init:function(e){var n="";for(l=r[e].length,a=0;a<l;a++)n+='<a href="'+r[e][a].link+'" class="menu-item">'+r[e][a].name+"</a>";t.html(n)},show:function(){t.addClass("open").css("display","block").css("left",e.width()).resizable({minWidth:100,maxWidth:300,handles:"e",resize:function(e,t){t.size.height=u}})},hide:function(){t.removeClass("open").css("display","none"),t.resizable("instance")&&t.resizable("destroy")}},show:function(){e.addClass("open"),e.css("left","0"),e.resizable("option","disabled",!1)},hide:function(){e.css("left","-"+e.width()+"px"),e.removeClass("open"),e.resizable("option","disabled",!0),o.submenu.hide()},toggle:function(){e.hasClass("open")?o.hide():o.show()}}}(),s=function(){var e=void 0,t=void 0;return{init:function(){return t=$(".meta"),!!t.length&&(e={},void s.parseMeta(function(){"undefined"!=typeof e.section&&e.section.length&&(window.section=e.section),"undefined"!=typeof e.page&&e.page.length&&(window.page=e.page),s.setMeta()}))},parseMeta:function(n){t.each(function(t,n){var i=$(n).attr("data-key"),r=$(n).attr("data-value");i&&i.length&&r&&r.length&&(e[i]=r)}),n()},setMeta:function(){window.title=title,$("#title").text(window.title),$("#page_title").html(window.title+": "+window.section+" > "+window.page)}}}();e.init(),console.log(t.queryString())}()}),console.timeEnd("main");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUuanMiXSwibmFtZXMiOlsiY29uc29sZSIsInRpbWUiLCJ0aXRsZSIsInBhdGhzIiwic3RvcmVzIiwicHJvZHVjZXJzIiwicHJvZHVjdHMiLCJtYWluIiwic2VhcmNoIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJBcHAiLCJpbml0IiwiU0VPIiwiTWVudSIsIkFsZXJ0IiwiRm9ybSIsIk9yZGVyIiwiVXRpbHMiLCJpIiwibGVuZ3RoIiwicGFyc2VNb2R1bGVOYW1lcyIsInN0cmluZyIsIm1vZHVsZXMiLCJzcGxpdCIsImUiLCJlcnJvciIsInF1ZXJ5U3RyaW5nIiwid2luZG93IiwibG9jYXRpb24iLCJzdWJzdHIiLCJwYXJhbXMiLCJwYXJhbSIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJnZXRQYXRoIiwiYXJncyIsInBhdGgiLCJjaGlsZCIsInNlY3VyZUdldFBhdGgiLCJyZXNwb25zZSIsImFyciIsImxvZyIsImxvYWRTZWxlY3RzIiwiJGZvcm0iLCJmaW5kIiwiZWFjaCIsImlkeCIsImVsZW1lbnQiLCJ1cmwiLCJhdHRyIiwiaW5kZXhPZiIsInByZXBlbmQiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwic3VjY2VzcyIsInJlcyIsIml0ZW1zIiwiaHRtbCIsInNlbGVjdEZyb21BcnJheSIsImFwcGVuZCIsImZpcnN0IiwicmVtb3ZlIiwiJGFsZXJ0cyIsInVuZGVmaW5lZCIsIiRzdWNjZXNzIiwiJGVycm9yIiwiJGluZm8iLCIkbG9hZEFsZXJ0cyIsImxvYWRBbGVydHMiLCJ0ZXh0Iiwib3V0ZXJIVE1MIiwiaW5mbyIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCIkcmVzcG9uc2UiLCIkcHJvZ3Jlc3NCYXIiLCIkZW5hYmxlQnRuIiwiJG1hZ2F6aW5lIiwiJGNvdW50cyIsIiRkb3VibGVJbnB1dHMiLCIkaW50ZWdlcklucHV0cyIsImxvYWRVcmwiLCJwcm9ncmVzc2JhciIsIm1heCIsInZhbHVlIiwiZXZlbnRzIiwiaW5pdF91cmwiLCJzZW5kIiwiZGlzYWJsZSIsImVuYWJsZSIsInVuYmluZCIsImJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJ0ZXN0IiwiJGNsb25lIiwiY2xvbmUiLCJiZWZvcmUiLCIkZWxlbWVudHMiLCJsYXN0IiwiaW5kZXgiLCJlcSIsInZhbCIsInRoYXQiLCJtZXRob2QiLCJtb2R1bGVOYW1lcyIsInhociIsIkZvcm1EYXRhIiwiYWpheFNldHRpbmdzIiwidXBsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxlbmd0aENvbXB1dGFibGUiLCJwcm9ncmVzcyIsIk1hdGgiLCJjZWlsIiwibG9hZGVkIiwidG90YWwiLCJkYXRhIiwic2VyaWFsaXplIiwicHJvY2Vzc0RhdGEiLCJjYWNoZSIsImJlZm9yZVNlbmQiLCJ0ZW1wbGF0ZSIsInBhcnNlSFRNTCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJfaXRlbXMiLCIkY291bnQiLCIkb3JkZXJCdG4iLCJzZXQiLCJpZCIsInBhcnNlSW50IiwiaXNOYU4iLCJiaW5kZXIiLCJmcm9tIiwidG8iLCJyZW1vdmVDbGFzcyIsImFkZCIsInNhdmUiLCJTdG9yYWdlIiwiZ2V0IiwicHVzaCIsImNsZWFyIiwia2V5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsImdldEl0ZW0iLCIkbWVudSIsIiRzdWJtZW51IiwiJG1lbnVfaXRlbSIsIm5hbWUiLCJsaW5rIiwic3VibWVudSIsImoiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIml0ZW0iLCJzdWJJdGVtcyIsImxlblN1Ykl0ZW1zIiwicmVzaXphYmxlIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsImhhbmRsZXMiLCJyZXNpemUiLCJldmVudCIsInVpIiwic2l6ZSIsImNzcyIsIndpZHRoIiwib2Zmc2V0WCIsIm9mZnNldFdpZHRoIiwidG9nZ2xlIiwic2hvdyIsImhpZGUiLCJtZXRhIiwiJG1ldGEiLCJwYXJzZU1ldGEiLCJzZWN0aW9uIiwicGFnZSIsInNldE1ldGEiLCJj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UUFBRS9KLFNBQzVEUSxPQUFPMEosUUFBVUgsRUFBYyxTQUVMLG1CQUFqQkEsR0FBVyxNQUFxQkEsRUFBVyxLQUFFL0osU0FDdERRLE9BQU8ySixLQUFPSixFQUFXLE1BRTFCdEssRUFBSTJLLGNBR05ILFVBQVcsU0FBVUksR0FDcEJMLEVBQU10SSxLQUFLLFNBQVVDLEVBQUtDLEdBQ3pCLEdBQ0NpRyxHQUFNekksRUFBRXdDLEdBQVNFLEtBQUssWUFDdEJvQyxFQUFROUUsRUFBRXdDLEdBQVNFLEtBQUssYUFDdEIrRixJQUFPQSxFQUFJN0gsUUFBVWtFLEdBQVNBLEVBQU1sRSxTQUN0QytKLEVBQUtsQyxHQUFPM0QsS0FHZG1HLEtBRURELFFBQVMsV0FDUjVKLE9BQU8zQixNQUFRQSxNQUVmTyxFQUFFLFVBQVUrRCxLQUFLM0MsT0FBTzNCLE9BQ3hCTyxFQUFFLGVBQWVtRCxLQUFLL0IsT0FBTzNCLE1BQVEsS0FBTzJCLE9BQU8wSixRQUFVLE1BQVExSixPQUFPMkosVUFLaEY1SyxHQUFJQyxPQUNKYixRQUFRMkMsSUFBSXhCLEVBQU1TLG9CQUlwQjVCLFFBQVEyTCxRQUFRIiwiZmlsZSI6ImNvcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLnRpbWUoJ21haW4nKTtcbmNvbnN0XG5cdHRpdGxlID0gJ9Ch0LXRgtGMINC80LXQsdC10LvRjNC90YvRhSDQvNCw0LPQsNC30LjQvdC+0LInLFxuXHRwYXRocyA9IHtcblx0c3RvcmVzOiAnL3N0b3JlcycsXG5cdHByb2R1Y2VyczogJy9wcm9kdWNlcnMnLFxuXHRwcm9kdWN0czp7XG5cdFx0bWFpbjogJy9wcm9kdWN0cycsXG5cdFx0c2VhcmNoOiAnL3NlYXJjaCdcblx0fVxufTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXHQoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBBcHAgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm57XG5cdFx0XHRcdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0U0VPLmluaXQoKTtcblx0XHRcdFx0XHRcdE1lbnUuaW5pdCgpO1xuXHRcdFx0XHRcdFx0QWxlcnQuaW5pdCgpO1xuXHRcdFx0XHRcdFx0Rm9ybS5pbml0KCk7XG5cdFx0XHRcdFx0XHRPcmRlci5pbml0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSgpLFxuXHRcdFx0VXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHRpID0gMCwgaiA9IDAsIGsgPSAwLFxuXHRcdFx0XHRcdGxlbmd0aCA9IDA7XG5cdFx0XHRcdHJldHVybntcblx0XHRcdFx0XHRwYXJzZU1vZHVsZU5hbWVzOiBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0XHRcdFx0XHR2YXIgbW9kdWxlcyA9IFtdO1xuXHRcdFx0XHRcdFx0dHJ5e1xuXHRcdFx0XHRcdFx0XHRtb2R1bGVzID0gc3RyaW5nLnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHR9Y2F0Y2ggKGUpe1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vZHVsZXM7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRxdWVyeVN0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgc3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoJyYnKTtcblx0XHRcdFx0XHRcdGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRpZiAoIWxlbmd0aCkgcmV0dXJuIHt9O1xuXG5cdFx0XHRcdFx0XHR2YXIgcGFyYW1zID0ge307XG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0dmFyIHBhcmFtID0gc3RyaW5nW2ldLnNwbGl0KCc9JywgMik7XG5cdFx0XHRcdFx0XHRcdGlmIChwYXJhbS5sZW5ndGggIT0gMikgY29udGludWU7XG5cdFx0XHRcdFx0XHRcdHBhcmFtc1twYXJhbVswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFyYW1bMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcGFyYW1zO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Z2V0UGF0aDogZnVuY3Rpb24gKGFyZ3MpIHtcblx0XHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0XHRsZW5ndGggPSBhcmdzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0aSA9IDAsIHBhdGggPSAnJywgY2hpbGQgPSBwYXRocztcblx0XHRcdFx0XHRcdGlmKCFsZW5ndGgpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdGZvcihpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHRcdFx0aWYodHlwZW9mIGNoaWxkICE9PSAndW5kZWZpbmVkJyl7XG5cdFx0XHRcdFx0XHRcdFx0Y2hpbGQgPSBjaGlsZFthcmdzW2ldXTtcblx0XHRcdFx0XHRcdFx0XHRpZih0eXBlb2YgY2hpbGQgIT09ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYodHlwZW9mIGNoaWxkLm1haW4gIT09ICd1bmRlZmluZWQnICYmIGNoaWxkLm1haW4ubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXRoICs9IGNoaWxkLm1haW47XG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhdGggKz0gY2hpbGQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBwYXRoO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2VjdXJlR2V0UGF0aDogZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdFx0XHRcdFx0dmFyIHJlc3BvbnNlID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHZhciBhcnIgPSBzdHJpbmcuc3BsaXQoJz0nKVsxXS5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IFV0aWxzLmdldFBhdGgoYXJyKTtcblx0XHRcdFx0XHRcdH1jYXRjaCAoZSl7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRsb2FkU2VsZWN0czogZnVuY3Rpb24gKCRmb3JtKSB7XG5cdFx0XHRcdFx0XHQkZm9ybS5maW5kKCdzZWxlY3RbZGF0YS1sb2FkU2VsZWN0PVwidHJ1ZVwiXScpLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gJChlbGVtZW50KS5hdHRyKCdkYXRhLXVybCcpO1xuXHRcdFx0XHRcdFx0XHRpZih1cmwuaW5kZXhPZignZ2V0UGF0aCcpID4gLTEpe1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwYXRoID0gVXRpbHMuc2VjdXJlR2V0UGF0aCh1cmwpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYocGF0aCAmJiBwYXRoLmxlbmd0aCl7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtdXJsJywgcGF0aCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR1cmwgPSBwYXRoO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZighdXJsLmxlbmd0aCkgcmV0dXJuIHRydWU7XG5cblx0XHRcdFx0XHRcdFx0JChlbGVtZW50KVxuXHRcdFx0XHRcdFx0XHRcdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0LnByZXBlbmQoJzxvcHRpb24gdmFsdWU9XCJcIiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+0JfQsNCz0YDRg9C30LrQsCDRgdC/0LjRgdC60LAuLi48L29wdGlvbj4nKTtcblxuXHRcdFx0XHRcdFx0XHQkLmFqYXgoe1xuXHRcdFx0XHRcdFx0XHRcdHVybDogdXJsLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdHRVQnLFxuXHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYocmVzLnN1Y2Nlc3MgJiYgcmVzLml0ZW1zKXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGh0bWwgPSBVdGlscy5zZWxlY3RGcm9tQXJyYXkocmVzLml0ZW1zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JChlbGVtZW50KS5hcHBlbmQoaHRtbCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCQoZWxlbWVudClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuYXR0cignZGlzYWJsZWQnLCBmYWxzZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuZmluZCgnb3B0aW9uJykuZmlyc3QoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj7QntGI0LjQsdC60LAhINCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINGB0L/QuNGB0L7Qui48L29wdGlvbj4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCIgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPtCe0YjQuNCx0LrQsCEg0J3QtSDRg9C00LDQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0YHQv9C40YHQvtC6Ljwvb3B0aW9uPicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihyZXMpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNlbGVjdEZyb21BcnJheTogZnVuY3Rpb24gKGl0ZW1zKSB7XG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgaXRlbXMgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHR2YXIgaHRtbCA9ICcnO1xuXHRcdFx0XHRcdFx0Zm9yKGkgaW4gaXRlbXMpXG5cdFx0XHRcdFx0XHRcdGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgaSArICdcIj4nICsgaXRlbXNbaV0gKyAnPC9vcHRpb24+Jztcblx0XHRcdFx0XHRcdHJldHVybiBodG1sO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkoKSxcblx0XHRcdEFsZXJ0ID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0JGFsZXJ0cyA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkc3VjY2VzcyA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkZXJyb3IgPSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JGluZm8gPSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JGxvYWRBbGVydHMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHJldHVybntcblx0XHRcdFx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQkYWxlcnRzID0gJCgnI2FsZXJ0cycpO1xuXHRcdFx0XHRcdFx0aWYoISRhbGVydHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cblx0XHRcdFx0XHRcdCRzdWNjZXNzID0gJGFsZXJ0cy5maW5kKCcuYWxlcnQtc3VjY2VzcycpO1xuXHRcdFx0XHRcdFx0JGVycm9yID0gJGFsZXJ0cy5maW5kKCcuYWxlcnQtZXJyb3InKTtcblx0XHRcdFx0XHRcdCRpbmZvID0gJGFsZXJ0cy5maW5kKCcuYWxlcnQtaW5mbycpO1xuXHRcdFx0XHRcdFx0JGxvYWRBbGVydHMgPSAkKCcubG9hZC1hbGVydCcpO1xuXG5cdFx0XHRcdFx0XHRpZigkbG9hZEFsZXJ0cy5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdEFsZXJ0LmxvYWRBbGVydHMoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgJHN1Y2Nlc3MgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHQkc3VjY2Vzcy5maW5kKCcudGV4dCcpLmh0bWwodGV4dCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJHN1Y2Nlc3NbMF0ub3V0ZXJIVE1MO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgJGVycm9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0JGVycm9yLmZpbmQoJy50ZXh0JykuaHRtbCh0ZXh0KTtcblx0XHRcdFx0XHRcdHJldHVybiAkZXJyb3JbMF0ub3V0ZXJIVE1MO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW5mbzogZnVuY3Rpb24gKHRleHQpIHtcblx0XHRcdFx0XHRcdGlmKHR5cGVvZiAkaW5mbyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdCRpbmZvLmZpbmQoJy50ZXh0JykuaHRtbCh0ZXh0KTtcblx0XHRcdFx0XHRcdHJldHVybiAkaW5mb1swXS5vdXRlckhUTUw7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRsb2FkQWxlcnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQkbG9hZEFsZXJ0cy5lYWNoKGZ1bmN0aW9uIChpZHgsIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0aWYoISQoZWxlbWVudCkuaGFzQ2xhc3MoJ2xhb2RlZCcpKXtcblx0XHRcdFx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdFx0XHRcdGh0bWwgPSAkKGVsZW1lbnQpLmh0bWwoKSxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGUgPSAkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtdHlwZScpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKGh0bWwgJiYgaHRtbC5sZW5ndGggJiYgdHlwZSAmJiB0eXBlLmxlbmd0aCl7XG5cdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lmh0bWwoQWxlcnRbdHlwZV0oaHRtbCkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKCdsb2FkZWQnKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1jYXRjaCAoZSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkoKSxcblx0XHRcdEZvcm0gPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXJcblx0XHRcdFx0XHQkZm9ybSA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkcmVzcG9uc2UgPSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JHByb2dyZXNzQmFyID0gdW5kZWZpbmVkLFxuXG5cdFx0XHRcdFx0JGVuYWJsZUJ0biA9IHVuZGVmaW5lZCxcblxuXHRcdFx0XHRcdCRtYWdhemluZSA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkY291bnRzID0gdW5kZWZpbmVkLFxuXG5cdFx0XHRcdFx0JGRvdWJsZUlucHV0cyA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkaW50ZWdlcklucHV0cyA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRpID0gMCwgaiA9IDAsIGsgPSAwLFxuXHRcdFx0XHRcdGxlbmd0aCA9IDA7XG5cdFx0XHRcdHJldHVybntcblx0XHRcdFx0XHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQkZm9ybSA9ICQoJyNzZW5kX2Zvcm0nKTtcblx0XHRcdFx0XHRcdGlmKCEkZm9ybS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdEZvcm0ubG9hZFVybCgpO1xuXG5cdFx0XHRcdFx0XHQkcmVzcG9uc2UgPSAkZm9ybS5maW5kKCcucmVzcG9uc2UnKTtcblx0XHRcdFx0XHRcdCRwcm9ncmVzc0JhciA9ICRmb3JtLmZpbmQoJy5wcm9ncmVzc19iYXInKTtcblxuXHRcdFx0XHRcdFx0JGVuYWJsZUJ0biA9ICRmb3JtLmZpbmQoJy5mb3JtLWVuYWJsZScpO1xuXG5cdFx0XHRcdFx0XHQkbWFnYXppbmUgPSAkKCcjZm9ybV9tYWdhemluZScpO1xuXHRcdFx0XHRcdFx0JGNvdW50cyA9ICQoJyNmb3JtX2NvdW50cycpO1xuXG5cdFx0XHRcdFx0XHQkZG91YmxlSW5wdXRzID0gJGZvcm0uZmluZCgnLm9ubHlfZG91YmxlJyk7XG5cdFx0XHRcdFx0XHQkaW50ZWdlcklucHV0cyA9ICRmb3JtLmZpbmQoJy5vbmx5X2ludGVnZXInKTtcblxuXHRcdFx0XHRcdFx0aWYodHlwZW9mICRwcm9ncmVzc0JhciAhPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdFx0XHRcdCRwcm9ncmVzc0Jhci5wcm9ncmVzc2Jhcih7XG5cdFx0XHRcdFx0XHRcdFx0bWF4OiAxMDAsXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IDBcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFV0aWxzLmxvYWRTZWxlY3RzKCRmb3JtKTtcblxuXHRcdFx0XHRcdFx0Rm9ybS5ldmVudHMoKTtcblx0XHRcdFx0XHRcdHZhciBpbml0X3VybCA9ICRmb3JtLmF0dHIoJ2RhdGEtaW5pdCcpO1xuXHRcdFx0XHRcdFx0aWYoaW5pdF91cmwubGVuZ3RoKXtcblx0XHRcdFx0XHRcdFx0aW5pdF91cmwgPSBVdGlscy5zZWN1cmVHZXRQYXRoKGluaXRfdXJsKTtcblx0XHRcdFx0XHRcdFx0aWYoaW5pdF91cmwpXG5cdFx0XHRcdFx0XHRcdFx0Rm9ybS5zZW5kKCRmb3JtLCBpbml0X3VybCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmKCRmb3JtLmhhc0NsYXNzKCdkaXNhYmxlJykpXG5cdFx0XHRcdFx0XHRcdEZvcm0uZGlzYWJsZSgpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JGZvcm0uZmluZCgnaW5wdXQsIHNlbGVjdCcpLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0JGZvcm0uZmluZCgnYnV0dG9uOm5vdCguZm9ybS1lbmFibGUpJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JGZvcm0uZmluZCgnaW5wdXQsIHNlbGVjdCcpLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHQkKGVsZW1lbnQpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdCRmb3JtLmZpbmQoJ2J1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0XHRcdFx0JGVuYWJsZUJ0bi5yZW1vdmUoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0aWYoJGZvcm0ubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHQkZm9ybVxuXHRcdFx0XHRcdFx0XHRcdC51bmJpbmQoJ3N1Ym1pdC5zZW5kRGF0YScpXG5cdFx0XHRcdFx0XHRcdFx0LmJpbmQoJ3N1Ym1pdC5zZW5kRGF0YScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRGb3JtLnNlbmQodGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmKCRkb3VibGVJbnB1dHMubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHQkZG91YmxlSW5wdXRzXG5cdFx0XHRcdFx0XHRcdFx0LnVuYmluZCgnaW5wdXQub25seURvdWJsZScpXG5cdFx0XHRcdFx0XHRcdFx0LmJpbmQoJ2lucHV0Lm9ubHlEb3VibGUnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wLTkuXS9nLCAnJykucmVwbGFjZSgvKFxcLi4qKVxcLi9nLCAnJDEnKTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0aWYoJGludGVnZXJJbnB1dHMubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHQkaW50ZWdlcklucHV0c1xuXHRcdFx0XHRcdFx0XHRcdC51bmJpbmQoJ2lucHV0Lm9ubHlJbnRlZ2VyJylcblx0XHRcdFx0XHRcdFx0XHQuYmluZCgnaW5wdXQub25seUludGVnZXInLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKC9cXEQvZy50ZXN0KHRoaXMudmFsdWUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRpZigkZW5hYmxlQnRuLmxlbmd0aClcblx0XHRcdFx0XHRcdFx0JGVuYWJsZUJ0blxuXHRcdFx0XHRcdFx0XHRcdC51bmJpbmQoJ2NsaWNrLmVuYWJsZUZvcm0nKVxuXHRcdFx0XHRcdFx0XHRcdC5iaW5kKCdjbGljay5lbmFibGVGb3JtJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdEZvcm0uZW5hYmxlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGlmKCRtYWdhemluZS5sZW5ndGgpe1xuXHRcdFx0XHRcdFx0XHQkKCcjZm9ybV9tYWdhemluZV9hZGQnKVxuXHRcdFx0XHRcdFx0XHRcdC51bmJpbmQoJ2NsaWNrLmFkZCcpXG5cdFx0XHRcdFx0XHRcdFx0LmJpbmQoJ2NsaWNrLmFkZCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgJGNsb25lID0gJG1hZ2F6aW5lLmZpbmQoJ3NlbGVjdCcpLmZpcnN0KCkuY2xvbmUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0JGNsb25lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5hdHRyKCd2YWx1ZScsICcnKTtcblx0XHRcdFx0XHRcdFx0XHRcdCQodGhpcykuYmVmb3JlKCRjbG9uZVswXS5vdXRlckhUTUwpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQkY2xvbmUgPSAkY291bnRzLmZpbmQoJ2lucHV0JykuZmlyc3QoKS5jbG9uZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0JGNsb25lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5hdHRyKCd2YWx1ZScsICcnKTtcblx0XHRcdFx0XHRcdFx0XHRcdCRjb3VudHMuYXBwZW5kKCRjbG9uZVswXS5vdXRlckhUTUwpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0JCgnI2Zvcm1fbWFnYXppbmVfcmVtb3ZlJylcblx0XHRcdFx0XHRcdFx0XHQudW5iaW5kKCdjbGljay5yZW1vdmUnKVxuXHRcdFx0XHRcdFx0XHRcdC5iaW5kKCdjbGljay5yZW1vdmUnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50cyA9ICRtYWdhemluZS5maW5kKCdzZWxlY3QnKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWR4ID0gJGVsZW1lbnRzLmxhc3QoKS5pbmRleCgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZihpZHgpe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkZWxlbWVudHMuZXEoaWR4KS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JGVsZW1lbnRzID0gJGNvdW50cy5maW5kKCdpbnB1dCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkZWxlbWVudHMuZXEoaWR4KS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkbWFnYXppbmUuZmluZCgnc2VsZWN0JykuZXEoMClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQudmFsKCcnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JGNvdW50cy5maW5kKCdpbnB1dCcpLmVxKDApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LnZhbCgnJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNlbmQ6IGZ1bmN0aW9uICh0aGF0LCBpbml0X3VybCkge1xuXHRcdFx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0XHRcdHVybCA9IGluaXRfdXJsIHx8ICQodGhhdCkuYXR0cignZGF0YS11cmwnKSxcblx0XHRcdFx0XHRcdFx0bWV0aG9kID0gJCh0aGF0KS5hdHRyKCdkYXRhLW1ldGhvZCcpLFxuXHRcdFx0XHRcdFx0XHR2aWV3ID0gJCh0aGF0KS5hdHRyKCdkYXRhLXZpZXcnKSxcblx0XHRcdFx0XHRcdFx0bW9kdWxlTmFtZXMgPSAkKHRoYXQpLmF0dHIoJ2RhdGEtbW9kdWxlcycpLFxuXHRcdFx0XHRcdFx0XHRkYXRhID0gbmV3IEZvcm1EYXRhKHRoYXQpLFxuXHRcdFx0XHRcdFx0XHR4aHIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAkLmFqYXhTZXR0aW5ncy54aHIoKTsgfTtcblxuXHRcdFx0XHRcdFx0aWYoJHByb2dyZXNzQmFyLmxlbmd0aCl7XG5cdFx0XHRcdFx0XHRcdHhociA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHhociA9ICQuYWpheFNldHRpbmdzLnhocigpO1xuXHRcdFx0XHRcdFx0XHRcdHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdFx0XHRcdGlmKGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgcHJvZ3Jlc3MgPSBNYXRoLmNlaWwoZS5sb2FkZWQgLyBlLnRvdGFsICogMTAwKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0JHByb2dyZXNzQmFyLnByb2dyZXNzYmFyKCd2YWx1ZScsIHByb2dyZXNzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHhocjtcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0JC5hamF4KHtcblx0XHRcdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0XHRcdG1ldGhvZDogbWV0aG9kLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiAkZm9ybS5zZXJpYWxpemUoKSxcblx0XHRcdFx0XHRcdFx0cHJvY2Vzc0RhdGE6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcdFx0XHRcdFx0XHRjYWNoZTogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHhocjogeGhyLFxuXHRcdFx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0JHJlc3BvbnNlLmh0bWwoJycpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYocmVzLnN1Y2Nlc3MgJiYgcmVzLnRlbXBsYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0JHJlc3BvbnNlLmh0bWwoJC5wYXJzZUhUTUwocmVzLnRlbXBsYXRlKSk7XG5cblx0XHRcdFx0XHRcdFx0XHR2YXIgbW9kdWxlcyA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdGlmKG1vZHVsZU5hbWVzLmxlbmd0aClcblx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZXMgPSBVdGlscy5wYXJzZU1vZHVsZU5hbWVzKG1vZHVsZU5hbWVzKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmKG1vZHVsZXMuaW5kZXhPZignb3JkZXInKSA+IC0xKVxuXHRcdFx0XHRcdFx0XHRcdFx0T3JkZXIuaW5pdCgpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdFx0XHRcdGlmKHJlcy5zdGF0dXMgJiYgcmVzLnN0YXR1c1RleHQgJiYgcmVzLnN0YXR1c1RleHQubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRcdFx0JHJlc3BvbnNlLmh0bWwoQWxlcnQuZXJyb3IoJ9Ce0YLQstC10YIg0YHQtdGA0LLQtdGA0LA6ICcgKyByZXMuc3RhdHVzVGV4dCArICcgWzxiPicgKyByZXMuc3RhdHVzICsgJzwvYj5dJykpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGxvYWRVcmw6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciB1cmwgPSBVdGlscy5zZWN1cmVHZXRQYXRoKCRmb3JtLmF0dHIoJ2RhdGEtdXJsJykpO1xuXHRcdFx0XHRcdFx0aWYodXJsICYmIHVybC5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdCRmb3JtLmF0dHIoJ2RhdGEtdXJsJywgdXJsKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0JGZvcm0ucHJlcGVuZChBbGVydC5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINGB0YHRi9C70LrRgyDRhNC+0YDQvNGLLicpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pKCksXG5cdFx0XHRPcmRlciA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhclxuXHRcdFx0XHRcdF9pdGVtcyA9IFtdLFxuXG5cdFx0XHRcdFx0JGNvdW50ID0gdW5kZWZpbmVkLFxuXHRcdFx0XHRcdCRvcmRlckJ0biA9IHVuZGVmaW5lZCxcblxuXHRcdFx0XHRcdGkgPSAwLCBqID0gMCwgayA9IDAsXG5cdFx0XHRcdFx0bGVuZ3RoID0gMDtcblx0XHRcdFx0cmV0dXJue1xuXHRcdFx0XHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdCRjb3VudCA9ICQoJyNvcmRlcl9pdGVtc19jb3VudCcpO1xuXHRcdFx0XHRcdFx0JG9yZGVyQnRuID0gJCgnLm9yZGVyX2J0bicpO1xuXG5cdFx0XHRcdFx0XHRPcmRlci5zZXQoKTtcblx0XHRcdFx0XHRcdE9yZGVyLmV2ZW50cygpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZXZlbnRzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZigkb3JkZXJCdG4ubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHQkb3JkZXJCdG4uZWFjaChmdW5jdGlvbiAoaWR4LCBlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGlkID0gcGFyc2VJbnQoJChlbGVtZW50KS5hdHRyKCdkYXRhLWlkJykpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKCFpc05hTihpZCkgJiYgX2l0ZW1zLmxlbmd0aCAmJiBfaXRlbXMuaW5kZXhPZihpZCkgPiAtMSlcblx0XHRcdFx0XHRcdFx0XHRcdE9yZGVyLmJpbmRlci5mcm9tKGVsZW1lbnQpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdE9yZGVyLmJpbmRlci50byhlbGVtZW50KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRiaW5kZXI6e1xuXHRcdFx0XHRcdFx0dG86IGZ1bmN0aW9uICh0aGF0KSB7XG5cdFx0XHRcdFx0XHRcdCQodGhhdClcblx0XHRcdFx0XHRcdFx0XHQudGV4dCgn0JIg0LfQsNC60LDQtycpXG5cdFx0XHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCdmcm9tX29yZGVyJylcblx0XHRcdFx0XHRcdFx0XHQuYWRkQ2xhc3MoJ3RvX29yZGVyJylcblx0XHRcdFx0XHRcdFx0XHQudW5iaW5kKCdjbGljay5hZGRUb09yZGVyJylcblx0XHRcdFx0XHRcdFx0XHQuYmluZCgnY2xpY2suYWRkVG9PcmRlcicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmKGlkID4gMClcblx0XHRcdFx0XHRcdFx0XHRcdFx0T3JkZXIuYWRkKGlkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0T3JkZXIuYmluZGVyLmZyb20odGhhdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRmcm9tOiBmdW5jdGlvbiAodGhhdCkge1xuXHRcdFx0XHRcdFx0XHQkKHRoYXQpXG5cdFx0XHRcdFx0XHRcdFx0LnRleHQoJ9Ce0YLQvNC10L3QsCcpXG5cdFx0XHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCd0b19vcmRlcicpXG5cdFx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKCdmcm9tX29yZGVyJylcblx0XHRcdFx0XHRcdFx0XHQudW5iaW5kKCdjbGljay5hZGRUb09yZGVyJylcblx0XHRcdFx0XHRcdFx0XHQuYmluZCgnY2xpY2suYWRkVG9PcmRlcicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBwYXJzZUludCgkKHRoYXQpLmF0dHIoJ2RhdGEtaWQnKSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmKGlkID4gMClcblx0XHRcdFx0XHRcdFx0XHRcdFx0T3JkZXIucmVtb3ZlKGlkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0T3JkZXIuYmluZGVyLnRvKHRoYXQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0aWYoIXZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpdGVtcyA9IFN0b3JhZ2UuZ2V0KCdvcmRlcicpO1xuXHRcdFx0XHRcdFx0XHRpZihpdGVtcyAmJiBpdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRfaXRlbXMgPSBpdGVtcztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNle1xuXHRcdFx0XHRcdFx0XHRcdF9pdGVtcyA9IFtdO1xuXHRcdFx0XHRcdFx0XHRcdE9yZGVyLnNhdmUoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRcdF9pdGVtcyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRPcmRlci5zYXZlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHJldHVybiBfaXRlbXM7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhZGQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0aWYoIWlzTmFOKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0XHRcdGlmKF9pdGVtcy5pbmRleE9mKHZhbHVlKSA9PSAtMSlcblx0XHRcdFx0XHRcdFx0XHRfaXRlbXMucHVzaChwYXJzZUludCh2YWx1ZSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZXtcblx0XHRcdFx0XHRcdFx0bGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcblx0XHRcdFx0XHRcdFx0XHRpZighaXNOYU4odmFsdWUpICYmIF9pdGVtcy5pbmRleE9mKHZhbHVlKSA9PSAtMSlcblx0XHRcdFx0XHRcdFx0XHRcdF9pdGVtcy5wdXNoKHBhcnNlSW50KHZhbHVlW2ldKSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdE9yZGVyLnNhdmUoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlbW92ZTogZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRcdFx0XHR2YXIgaXRlbXMgPSBbXTtcblx0XHRcdFx0XHRcdGxlbmd0aCA9IF9pdGVtcy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdGZvcihpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuXHRcdFx0XHRcdFx0XHRpZihfaXRlbXNbaV0gIT0gaWQpXG5cdFx0XHRcdFx0XHRcdFx0aXRlbXMucHVzaChfaXRlbXNbaV0pO1xuXG5cdFx0XHRcdFx0XHRPcmRlci5zZXQoaXRlbXMpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2F2ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0U3RvcmFnZS5zZXQoJ29yZGVyJywgX2l0ZW1zKTtcblx0XHRcdFx0XHRcdGxlbmd0aCA9IF9pdGVtcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHQkY291bnQudGV4dChsZW5ndGgpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Y2xlYXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdF9pdGVtcyA9IFtdO1xuXHRcdFx0XHRcdFx0T3JkZXIuc2F2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkoKSxcblx0XHRcdFN0b3JhZ2UgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm57XG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pKCksXG5cdFx0XHRNZW51ID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0JG1lbnUgPSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JHN1Ym1lbnUgPSB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JG1lbnVfaXRlbSA9IHVuZGVmaW5lZCxcblxuXHRcdFx0XHRcdGl0ZW1zID0gW1xuXHRcdFx0XHRcdFx0e25hbWU6ICfQl9Cw0LrQsNC3PHNwYW4gaWQ9XCJvcmRlcl9pdGVtc19jb3VudFwiIGNsYXNzPVwiYmFkZ2VcIj4wPC9zcGFuPicsIGxpbms6ICcvb3JkZXInfSxcblx0XHRcdFx0XHRcdHtuYW1lOiAn0J/QvtC60YPQv9C60LgnLCBsaW5rOiBbXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0KHQv9C40YHQvtC6JywgbGluazogJy9vcmRlcnMubGlzdC5odG1sJ30sXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0KHQvtC30LTQsNGC0YwnLCBsaW5rOiAnL29yZGVycy5jcmVhdGUuaHRtbCd9LFxuXHRcdFx0XHRcdFx0XHR7bmFtZTogJ9Cg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMJywgbGluazogJy9vcmRlcnMuZWRpdC5odG1sJ30sXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0J7RgtGH0LXRgtGLJywgbGluazogJy9vcmRlcnMucmV2aWV3cy5odG1sJ31cblx0XHRcdFx0XHRcdF19LFxuXHRcdFx0XHRcdFx0e25hbWU6ICfQotC+0LLQsNGA0YsnLCBsaW5rOiBbXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0KHQv9C40YHQvtC6JywgbGluazogJy9wcm9kdWN0cy5saXN0Lmh0bWwnfSxcblx0XHRcdFx0XHRcdFx0e25hbWU6ICfQodC+0LfQtNCw0YLRjCcsIGxpbms6ICcvcHJvZHVjdHMuY3JlYXRlLmh0bWwnfSxcblx0XHRcdFx0XHRcdFx0e25hbWU6ICfQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCcsIGxpbms6ICcvcHJvZHVjdHMuZWRpdC5odG1sJ31cblx0XHRcdFx0XHRcdF19LFxuXHRcdFx0XHRcdFx0e25hbWU6ICfQnNCw0LPQsNC30LjQvdGLJywgbGluazogW1xuXHRcdFx0XHRcdFx0XHR7bmFtZTogJ9Ch0L/QuNGB0L7QuicsIGxpbms6ICcvc3RvcmVzLmxpc3QuaHRtbCd9LFxuXHRcdFx0XHRcdFx0XHR7bmFtZTogJ9Ch0L7Qt9C00LDRgtGMJywgbGluazogJy9zdG9yZXMuY3JlYXRlLmh0bWwnfSxcblx0XHRcdFx0XHRcdFx0e25hbWU6ICfQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCcsIGxpbms6ICcvc3RvcmVzLmVkaXQuaHRtbCd9LFxuXHRcdFx0XHRcdFx0XHR7bmFtZTogJ9Ce0YLRh9C10YLRiycsIGxpbms6ICcvc3RvcmVzLnJldmlld3MuaHRtbCd9XG5cdFx0XHRcdFx0XHRdfSxcblx0XHRcdFx0XHRcdHtuYW1lOiAn0J/RgNC+0LjQt9Cy0L7QtNC40YLQtdC70LgnLCBsaW5rOiBbXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0KHQv9C40YHQvtC6JywgbGluazogJy9zdG9yZXMubGlzdC5odG1sJ30sXG5cdFx0XHRcdFx0XHRcdHtuYW1lOiAn0KHQvtC30LTQsNGC0YwnLCBsaW5rOiAnL3Byb2R1Y2Vycy9jcmVhdGUnfSxcblx0XHRcdFx0XHRcdFx0e25hbWU6ICfQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCcsIGxpbms6ICcvc3RvcmVzLmVkaXQuaHRtbCd9LFxuXHRcdFx0XHRcdFx0XHR7bmFtZTogJ9Ce0YLRh9C10YLRiycsIGxpbms6ICcvc3RvcmVzLnJldmlld3MuaHRtbCd9XG5cdFx0XHRcdFx0XHRdfVxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0c3VibWVudSA9IFtdLFxuXG5cdFx0XHRcdFx0aSA9IDAsIGogPSAwLFxuXHRcdFx0XHRcdGxlbmd0aCA9IDAsXG5cblx0XHRcdFx0XHRodG1sID0gJycsXG5cdFx0XHRcdFx0aGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHRcdFx0XHRyZXR1cm57XG5cdFx0XHRcdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0bGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0JG1lbnUgPSAkKCcjbWVudScpO1xuXG5cdFx0XHRcdFx0XHRpZighbGVuZ3RoIHx8ICEkbWVudS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuXHRcdFx0XHRcdFx0JHN1Ym1lbnUgPSAkKCcjc3VibWVudScpO1xuXG5cdFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0gPSBpdGVtc1tpXSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlID0gdHlwZW9mIGl0ZW0ubGluaztcblx0XHRcdFx0XHRcdFx0aWYodHlwZSA9PT0gJ29iamVjdCcpe1xuXHRcdFx0XHRcdFx0XHRcdHZhclxuXHRcdFx0XHRcdFx0XHRcdFx0c3ViSXRlbXMgPSBpdGVtLmxpbmssXG5cdFx0XHRcdFx0XHRcdFx0XHRsZW5TdWJJdGVtcyA9IHN1Ykl0ZW1zLmxlbmd0aDtcblxuXHRcdFx0XHRcdFx0XHRcdHN1Ym1lbnVbaV0gPSBbXTtcblx0XHRcdFx0XHRcdFx0XHRmb3IoaiA9IDA7IGogPCBsZW5TdWJJdGVtczsgaisrKVxuXHRcdFx0XHRcdFx0XHRcdFx0c3VibWVudVtpXS5wdXNoKHtuYW1lOiBzdWJJdGVtc1tqXS5uYW1lLCBsaW5rOiBzdWJJdGVtc1tqXS5saW5rfSk7XG5cblx0XHRcdFx0XHRcdFx0XHRodG1sICs9ICc8YSBocmVmPVwiI1wiIGNsYXNzPVwibWVudS1pdGVtIHBhcmVudFwiPicgKyBpdGVtLm5hbWUgKyAnPC9hPic7XG5cdFx0XHRcdFx0XHRcdH1lbHNlIGlmKHR5cGUgPT09ICdzdHJpbmcnICYmIGl0ZW0ubGluayAhPSAnJylcblx0XHRcdFx0XHRcdFx0XHRodG1sICs9ICc8YSBocmVmPVwiJyArIGl0ZW0ubGluayArICdcIiBjbGFzcz1cIm1lbnUtaXRlbVwiPicgKyBpdGVtLm5hbWUgKyAnPC9hPic7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmKGh0bWwubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHQkbWVudS5odG1sKCQucGFyc2VIVE1MKGh0bWwpKTtcblxuXHRcdFx0XHRcdFx0JG1lbnVfaXRlbSA9ICQoJy5tZW51LWl0ZW0nKTtcblxuXHRcdFx0XHRcdFx0TWVudS5ldmVudHMoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JG1lbnUucmVzaXphYmxlKHtcblx0XHRcdFx0XHRcdFx0bWluV2lkdGg6IDEyMCxcblx0XHRcdFx0XHRcdFx0bWF4V2lkdGg6IDMwMCxcblx0XHRcdFx0XHRcdFx0aGFuZGxlczogJ2UnLFxuXHRcdFx0XHRcdFx0XHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dWkuc2l6ZS5oZWlnaHQgPSBoZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdFx0JHN1Ym1lbnUuY3NzKCdsZWZ0JywgdWkuc2l6ZS53aWR0aCArICdweCcpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0JG1lbnVcblx0XHRcdFx0XHRcdFx0LnVuYmluZCgnY2xpY2sudG9nZ2xlTWVudScpXG5cdFx0XHRcdFx0XHRcdC5iaW5kKCdjbGljay50b2dnbGVNZW51JywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGUub2Zmc2V0WCA+ICRtZW51WzBdLm9mZnNldFdpZHRoKVxuXHRcdFx0XHRcdFx0XHRcdFx0TWVudS50b2dnbGUoKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHQkbWVudV9pdGVtXG5cdFx0XHRcdFx0XHRcdC51bmJpbmQoJ2NsaWNrLnNlbGVjdEl0ZW0nKVxuXHRcdFx0XHRcdFx0XHQuYmluZCgnY2xpY2suc2VsZWN0SXRlbScsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKHVybCA9PSAnIycpe1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGlkeCA9ICQoJy5tZW51LWl0ZW0nKS5pbmRleCh0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdE1lbnUuc3VibWVudS5pbml0KGlkeCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRNZW51LnN1Ym1lbnUuc2hvdygpO1xuXHRcdFx0XHRcdFx0XHRcdH1lbHNlIHdpbmRvdy5sb2NhdGlvbiA9IHVybDtcblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWJtZW51Ontcblx0XHRcdFx0XHRcdGluaXQ6IGZ1bmN0aW9uKGlkeCl7XG5cdFx0XHRcdFx0XHRcdHZhciBodG1sID0gJyc7XG5cblx0XHRcdFx0XHRcdFx0bGVuZ3RoID0gc3VibWVudVtpZHhdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG5cdFx0XHRcdFx0XHRcdFx0aHRtbCArPSAnPGEgaHJlZj1cIicgKyBzdWJtZW51W2lkeF1baV0ubGluayArICdcIiBjbGFzcz1cIm1lbnUtaXRlbVwiPicgKyBzdWJtZW51W2lkeF1baV0ubmFtZSArICc8L2E+JztcblxuXHRcdFx0XHRcdFx0XHQkc3VibWVudS5odG1sKGh0bWwpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNob3c6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0JHN1Ym1lbnVcblx0XHRcdFx0XHRcdFx0XHQuYWRkQ2xhc3MoJ29wZW4nKVxuXHRcdFx0XHRcdFx0XHRcdC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKVxuXHRcdFx0XHRcdFx0XHRcdC5jc3MoJ2xlZnQnLCAkbWVudS53aWR0aCgpKVxuXHRcdFx0XHRcdFx0XHRcdC5yZXNpemFibGUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0bWluV2lkdGg6IDEwMCxcblx0XHRcdFx0XHRcdFx0XHRcdG1heFdpZHRoOiAzMDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRoYW5kbGVzOiAnZScsXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHVpLnNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGhpZGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0JHN1Ym1lbnVcblx0XHRcdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoJ29wZW4nKVxuXHRcdFx0XHRcdFx0XHRcdC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHRcdFx0XHRpZigkc3VibWVudS5yZXNpemFibGUoJ2luc3RhbmNlJykpXG5cdFx0XHRcdFx0XHRcdFx0JHN1Ym1lbnUucmVzaXphYmxlKCdkZXN0cm95Jyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzaG93OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQkbWVudS5hZGRDbGFzcygnb3BlbicpO1xuXHRcdFx0XHRcdFx0JG1lbnUuY3NzKCdsZWZ0JywgJzAnKTtcblx0XHRcdFx0XHRcdCRtZW51LnJlc2l6YWJsZSgnb3B0aW9uJywgJ2Rpc2FibGVkJywgZmFsc2UpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aGlkZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JG1lbnUuY3NzKCdsZWZ0JywgJy0nICsgJG1lbnUud2lkdGgoKSArICdweCcpO1xuXHRcdFx0XHRcdFx0JG1lbnUucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcblx0XHRcdFx0XHRcdCRtZW51LnJlc2l6YWJsZSgnb3B0aW9uJywgJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRNZW51LnN1Ym1lbnUuaGlkZSgpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZigkbWVudS5oYXNDbGFzcygnb3BlbicpKVxuXHRcdFx0XHRcdFx0XHRNZW51LmhpZGUoKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0TWVudS5zaG93KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSgpLFxuXHRcdFx0U0VPID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyXG5cdFx0XHRcdFx0bWV0YSA9IHVuZGVmaW5lZCxcblx0XHRcdFx0XHQkbWV0YSA9IHVuZGVmaW5lZCxcblxuXHRcdFx0XHRcdGxlbmd0aCA9IDAsXG5cdFx0XHRcdFx0aSA9IDAsIGogPTAsIGsgPSAwO1xuXHRcdFx0XHRyZXR1cm57XG5cdFx0XHRcdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JG1ldGEgPSAkKCcubWV0YScpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZighJG1ldGEubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRtZXRhID0ge307XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFNFTy5wYXJzZU1ldGEoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRpZih0eXBlb2YgbWV0YVsnc2VjdGlvbiddICE9PSAndW5kZWZpbmVkJyAmJiBtZXRhWydzZWN0aW9uJ10ubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZWN0aW9uID0gbWV0YVsnc2VjdGlvbiddO1xuXG5cdFx0XHRcdFx0XHRcdGlmKHR5cGVvZiBtZXRhWydwYWdlJ10gIT09ICd1bmRlZmluZWQnICYmIG1ldGFbJ3BhZ2UnXS5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LnBhZ2UgPSBtZXRhWydwYWdlJ107XG5cblx0XHRcdFx0XHRcdFx0U0VPLnNldE1ldGEoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cGFyc2VNZXRhOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdCRtZXRhLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHR2YXJcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSAkKGVsZW1lbnQpLmF0dHIoJ2RhdGEta2V5JyksXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSAkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHRcdFx0XHRcdFx0aWYoa2V5ICYmIGtleS5sZW5ndGggJiYgdmFsdWUgJiYgdmFsdWUubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRcdG1ldGFba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXRNZXRhOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHR3aW5kb3cudGl0bGUgPSB0aXRsZTtcblxuXHRcdFx0XHRcdFx0JCgnI3RpdGxlJykudGV4dCh3aW5kb3cudGl0bGUpO1xuXHRcdFx0XHRcdFx0JCgnI3BhZ2VfdGl0bGUnKS5odG1sKHdpbmRvdy50aXRsZSArICc6ICcgKyB3aW5kb3cuc2VjdGlvbiArICcgPiAnICsgd2luZG93LnBhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSkoKTtcblxuXHRcdEFwcC5pbml0KCk7XG5cdFx0Y29uc29sZS5sb2coVXRpbHMucXVlcnlTdHJpbmcoKSk7XG5cdH0pKCk7XG59KTtcblxuY29uc29sZS50aW1lRW5kKCdtYWluJyk7Il19
